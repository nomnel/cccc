# Claude Code Control Center (cccc)

[![npm version](https://badge.fury.io/js/@nomnel%2Fcccc.svg)](https://www.npmjs.com/package/@nomnel/cccc)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

Node.jsè£½ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«UIã‚’ä½¿ã£ãŸ Claude CLI ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚è¤‡æ•°ã®Claudeã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã§ãã¾ã™ã€‚

## æ©Ÿèƒ½

- **ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: çŸ¢å°ã‚­ãƒ¼ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æ“ä½œ
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**: è¤‡æ•°ã®Claudeã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åŒæ™‚ã«ç®¡ç†
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ**: å®Ÿè¡Œä¸­ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã§ç°¡å˜ã«åˆ‡ã‚Šæ›¿ãˆ
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ**: Ctrl+Q ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹
- **Git Worktreeå¯¾å¿œ**: ãƒ–ãƒ©ãƒ³ãƒã”ã¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

## å‰ææ¡ä»¶

- Node.js 18ä»¥ä¸Š
- [Claude CLI](https://docs.anthropic.com/claude/docs/claude-cli) ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g @nomnel/cccc
```

### npx ã§ã®å®Ÿè¡Œ

```bash
npx @nomnel/cccc
```

### é–‹ç™ºç’°å¢ƒã§ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
git clone https://github.com/nomnel/cccc.git
cd cccc
pnpm install
pnpm run build
```

## ä½¿ã„æ–¹

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ï¼š

```bash
cccc
```

ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€çŸ¢å°ã‚­ãƒ¼ã§æ“ä½œã—ã€Enterã‚­ãƒ¼ã§é¸æŠã—ã¾ã™ã€‚

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

- `â†‘` / `â†“`: ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®é¸æŠ
- `Enter`: é¸æŠã—ãŸé …ç›®ã®å®Ÿè¡Œ
- `Ctrl+Q`: ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹
- `Ctrl+N` / `Ctrl+P`: Vimé¢¨ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ¬¡/å‰ã®é …ç›®ï¼‰

## ãƒ†ã‚¹ãƒˆ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **Vitest** ã‚’ä½¿ç”¨ã—ã¦åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚
**å…¨24ãƒ†ã‚¹ãƒˆãŒæ­£å¸¸ã«å‹•ä½œ** âœ…

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm test:watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ãã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm test:coverage
```

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

#### âœ… ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãƒ†ã‚¹ãƒˆ (`src/utils.test.ts`)

- `getShell()` - OSåˆ¥ã‚·ã‚§ãƒ«åˆ¤å®š
- `isMenuOption()` - ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³åˆ¤å®š
- `isSessionId()` - ã‚»ãƒƒã‚·ãƒ§ãƒ³IDåˆ¤å®š

#### âœ… ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ

- **`useSessionManager`** (`src/hooks/useSessionManager.test.ts`)
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³è¿½åŠ ãƒ»å‰Šé™¤ãƒ»æ¤œç´¢
  - ç”»é¢çŠ¶æ…‹ç®¡ç†
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†å‡¦ç†

- **`useEventListeners`** (`src/hooks/useEventListeners.test.ts`)
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®šãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
  - ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢
  - è‡ªå‹•ãƒªã‚¹ãƒŠãƒ¼ç®¡ç†

- **`useTerminalController`** (`src/hooks/useTerminalController.test.ts`)
  - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒ—ãƒ­ã‚»ã‚¹ä½œæˆ
  - ç”»é¢ã‚¯ãƒªã‚¢å‡¦ç†
  - ãƒªã‚µã‚¤ã‚ºãƒ»å…¥å‡ºåŠ›å‡¦ç†

#### âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ

- **`Menu`** (`src/Menu.test.tsx`)
  - ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¡¨ç¤º
  - é¸æŠçŠ¶æ…‹ç®¡ç†
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§è¡¨ç¤º

- **`App`** (`src/index.test.tsx`)
  - ç”»é¢é·ç§»
  - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆ

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

ãƒ†ã‚¹ãƒˆã¯ä»¥ä¸‹ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã¾ã™ï¼š

- **é–¢æ•°å‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: React Testing Library
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯**: React Hooks Testing Library
- **ç´”ç²‹é–¢æ•°**: å˜ä½“ãƒ†ã‚¹ãƒˆ
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æº

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/
â”œâ”€â”€ constants.ts           # å®šæ•°å®šç¾©
â”œâ”€â”€ types.ts              # å‹å®šç¾©
â”œâ”€â”€ utils.ts              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ hooks/                # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ useSessionManager.ts
â”‚   â”œâ”€â”€ useEventListeners.ts
â”‚   â””â”€â”€ useTerminalController.ts
â”œâ”€â”€ Menu.tsx              # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ index.tsx             # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€ test/                 # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ setup.ts
    â”œâ”€â”€ utils.test.ts
    â”œâ”€â”€ Menu.test.tsx
    â”œâ”€â”€ App.test.tsx
    â””â”€â”€ hooks/
        â”œâ”€â”€ useSessionManager.test.ts
        â”œâ”€â”€ useEventListeners.test.ts
        â””â”€â”€ useTerminalController.test.ts
```

### ğŸ—ï¸ è¨­è¨ˆåŸå‰‡

- **å˜ä¸€è²¬ä»»åŸå‰‡**: å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒæ˜ç¢ºãªå½¹å‰²ã‚’æ‹…ã†
- **é–¢æ•°å‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã›ãšã€ãƒ•ãƒƒã‚¯ + ç´”ç²‹é–¢æ•°
- **å‹å®‰å…¨æ€§**: TypeScriptã«ã‚ˆã‚‹é™çš„å‹ãƒã‚§ãƒƒã‚¯
- **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**: ãƒ¢ãƒƒã‚¯ã—ã‚„ã™ã„è¨­è¨ˆ
- **ä¿å®ˆæ€§**: è²¬ä»»åˆ†é›¢ã«ã‚ˆã‚‹å¤‰æ›´å½±éŸ¿ã®æœ€å°åŒ–

## é–‹ç™º

### ãƒªãƒ³ãƒˆãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```bash
# ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯
pnpm check

# ãƒªãƒ³ãƒˆä¿®æ­£
pnpm lint

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
pnpm format
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Runtime**: Node.js
- **UI Framework**: Ink (React for CLI)
- **Language**: TypeScript
- **Test Framework**: Vitest
- **Test Libraries**: Vitest (Node.jsç’°å¢ƒ)
- **Process Management**: node-pty
- **Linter**: Biome
